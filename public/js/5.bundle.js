(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{195:function(e,t,s){"use strict";s.r(t);var a={name:"BloodRequests",data:function(){return{loading:!0,stats:[{name:"Blood Requests",value:0,color:"primary",icon:"opacity"}],requests:[],headers:[{text:"Requested by",value:"requested_by"},{text:"Phone",value:"phone"},{text:"Community",value:"community"},{text:"Blood Type",value:"blood_type"},{text:"Donations",value:"donations"}]}},created:function(){var e=this;this.$dash.resource("blood_requests").get("",(function(t){if(t.data){var s=t.data.map((function(e){return{requested_by:e.relationships.requester.name,phone:e.relationships.requester.phone,community:e.relationships.location.name,blood_type:e.relationships.blood_type.name,donations:e.relationships.donations.length}}));e.requests=s,e.stats[0].value=e.requests.length,e.loading=!1}}))}},o=s(18),n=Object(o.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("page",{attrs:{name:"Blood Requests",desc:"Manage all blood requests"}},[t("stat-card",{attrs:{stats:this.stats}}),this._v(" "),t("Table",{attrs:{headers:this.headers,items:this.requests,loading:this.loading}})],1)}),[],!1,null,null,null);t.default=n.exports}}]);